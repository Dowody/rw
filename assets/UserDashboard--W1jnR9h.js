import{c as k,r as m,j as e,m as v,y as de,C as G,h as ht,E as Ae,i as Oe,s as j,R as xe,z as ee,u as ut,a as pt,B as gt,L as bt,X as wt,D as Te,F as yt}from"./index-CD3dpuQt.js";import{g as vt}from"./invoiceUtils-ndWwt8B0.js";import{U as be}from"./users-C3OVvmNm.js";import{Z as J,C as jt}from"./zap-Cn9Yh6kh.js";import{C as we,a as Nt}from"./crown-Dk0UeZPt.js";import{S as Ct}from"./shield-check-C6ZA-_4O.js";import{F as Be}from"./file-text-C2eEYNqV.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=k("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=k("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=k("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=k("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=k("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=k("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=k("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=k("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=k("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=k("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=k("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=k("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=k("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=k("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=k("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=k("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Ot=()=>{const[t,s]=m.useState(""),[r,i]=m.useState(""),[a,n]=m.useState(!1),[o,l]=m.useState(!1),[x,u]=m.useState(null),[p,w]=m.useState(null),S=async()=>{if(l(!0),u(null),w(null),t!==r){u("New passwords do not match"),l(!1);return}try{const{data:{user:_}}=await j.auth.getUser();if(!_){u("User not authenticated"),l(!1);return}const{error:d}=await j.auth.updateUser({password:t});if(d){u(d.message),l(!1);return}w("Password updated successfully"),s(""),i("")}catch{u("An unexpected error occurred")}finally{l(!1)}};return o?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-[#8a4fff]"})}):e.jsxs(v.div,{initial:{opacity:1,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-8",children:[x&&e.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-400 p-3 sm:p-4 rounded-xl flex items-center text-xs sm:text-sm",children:[e.jsx(de,{className:"mr-2 sm:mr-3 w-4 h-4 sm:w-6 sm:h-6"}),x]}),p&&e.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-400 p-3 sm:p-4 rounded-xl flex items-center text-xs sm:text-sm",children:[e.jsx(G,{className:"mr-2 sm:mr-3 w-4 h-4 sm:w-6 sm:h-6"}),p]}),e.jsxs("div",{className:"bg-gradient-to-br from-[#210746] to-[#2C095D] rounded-3xl p-4 sm:p-8 border border-[#8a4fff]/10",children:[e.jsxs("h3",{className:"text-2xl sm:text-xl font-semibold text-[#8a4fff] mb-4 sm:mb-6 flex items-center",children:[e.jsx(ht,{className:"mr-2 sm:mr-3 w-5 h-5 sm:w-6 sm:h-6"})," Change Password"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 sm:gap-4 py-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm sm:text-sm text-gray-400 mb-1 sm:mb-2",children:"New Password"}),e.jsx("input",{type:a?"text":"password",value:t,onChange:_=>s(_.target.value),className:"w-full p-2 sm:p-3 bg-[#2c1b4a] rounded-lg text-sm sm:text-base text-white border border-[#8a4fff]/20 focus:border-[#8a4fff] transition-colors pr-10"}),e.jsx("button",{onClick:()=>n(!a),className:"absolute right-3 top-9 sm:top-11 text-gray-400",children:a?e.jsx(Ae,{className:"w-4 h-4 sm:w-5 sm:h-5"}):e.jsx(Oe,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm sm:text-sm text-gray-400 mb-1 sm:mb-2",children:"Confirm New Password"}),e.jsx("input",{type:a?"text":"password",value:r,onChange:_=>i(_.target.value),className:"w-full p-2 sm:p-3 bg-[#2c1b4a] rounded-lg text-sm sm:text-base text-white border border-[#8a4fff]/20 focus:border-[#8a4fff] transition-colors pr-10"}),e.jsx("button",{onClick:()=>n(!a),className:"absolute right-3 top-9 sm:top-11 text-gray-400",children:a?e.jsx(Ae,{className:"w-4 h-4 sm:w-5 sm:h-5"}):e.jsx(Oe,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]}),e.jsx("div",{className:"mt-4 sm:mt-6",children:e.jsx("button",{onClick:S,className:"my-1 bg-[#8a4fff] text-white w-full sm:px-6 py-3 sm:py-3 rounded-lg hover:bg-[#7a3ddf] transition-colors text-sm sm:text-sm",children:"Change Password"})})]})]})};var me={linear:function(t,s,r,i){var a=r-s;return a*t/i+s},easeInQuad:function(t,s,r,i){var a=r-s;return a*(t/=i)*t+s},easeOutQuad:function(t,s,r,i){var a=r-s;return-a*(t/=i)*(t-2)+s},easeInOutQuad:function(t,s,r,i){var a=r-s;return(t/=i/2)<1?a/2*t*t+s:-a/2*(--t*(t-2)-1)+s},easeInCubic:function(t,s,r,i){var a=r-s;return a*(t/=i)*t*t+s},easeOutCubic:function(t,s,r,i){var a=r-s;return a*((t=t/i-1)*t*t+1)+s},easeInOutCubic:function(t,s,r,i){var a=r-s;return(t/=i/2)<1?a/2*t*t*t+s:a/2*((t-=2)*t*t+2)+s},easeInQuart:function(t,s,r,i){var a=r-s;return a*(t/=i)*t*t*t+s},easeOutQuart:function(t,s,r,i){var a=r-s;return-a*((t=t/i-1)*t*t*t-1)+s},easeInOutQuart:function(t,s,r,i){var a=r-s;return(t/=i/2)<1?a/2*t*t*t*t+s:-a/2*((t-=2)*t*t*t-2)+s},easeInQuint:function(t,s,r,i){var a=r-s;return a*(t/=i)*t*t*t*t+s},easeOutQuint:function(t,s,r,i){var a=r-s;return a*((t=t/i-1)*t*t*t*t+1)+s},easeInOutQuint:function(t,s,r,i){var a=r-s;return(t/=i/2)<1?a/2*t*t*t*t*t+s:a/2*((t-=2)*t*t*t*t+2)+s},easeInSine:function(t,s,r,i){var a=r-s;return-a*Math.cos(t/i*(Math.PI/2))+a+s},easeOutSine:function(t,s,r,i){var a=r-s;return a*Math.sin(t/i*(Math.PI/2))+s},easeInOutSine:function(t,s,r,i){var a=r-s;return-a/2*(Math.cos(Math.PI*t/i)-1)+s},easeInExpo:function(t,s,r,i){var a=r-s;return t==0?s:a*Math.pow(2,10*(t/i-1))+s},easeOutExpo:function(t,s,r,i){var a=r-s;return t==i?s+a:a*(-Math.pow(2,-10*t/i)+1)+s},easeInOutExpo:function(t,s,r,i){var a=r-s;return t===0?s:t===i?s+a:(t/=i/2)<1?a/2*Math.pow(2,10*(t-1))+s:a/2*(-Math.pow(2,-10*--t)+2)+s},easeInCirc:function(t,s,r,i){var a=r-s;return-a*(Math.sqrt(1-(t/=i)*t)-1)+s},easeOutCirc:function(t,s,r,i){var a=r-s;return a*Math.sqrt(1-(t=t/i-1)*t)+s},easeInOutCirc:function(t,s,r,i){var a=r-s;return(t/=i/2)<1?-a/2*(Math.sqrt(1-t*t)-1)+s:a/2*(Math.sqrt(1-(t-=2)*t)+1)+s},easeInElastic:function(t,s,r,i){var a=r-s,n,o,l;return l=1.70158,o=0,n=a,t===0?s:(t/=i)===1?s+a:(o||(o=i*.3),n<Math.abs(a)?(n=a,l=o/4):l=o/(2*Math.PI)*Math.asin(a/n),-(n*Math.pow(2,10*(t-=1))*Math.sin((t*i-l)*(2*Math.PI)/o))+s)},easeOutElastic:function(t,s,r,i){var a=r-s,n,o,l;return l=1.70158,o=0,n=a,t===0?s:(t/=i)===1?s+a:(o||(o=i*.3),n<Math.abs(a)?(n=a,l=o/4):l=o/(2*Math.PI)*Math.asin(a/n),n*Math.pow(2,-10*t)*Math.sin((t*i-l)*(2*Math.PI)/o)+a+s)},easeInOutElastic:function(t,s,r,i){var a=r-s,n,o,l;return l=1.70158,o=0,n=a,t===0?s:(t/=i/2)===2?s+a:(o||(o=i*(.3*1.5)),n<Math.abs(a)?(n=a,l=o/4):l=o/(2*Math.PI)*Math.asin(a/n),t<1?-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((t*i-l)*(2*Math.PI)/o))+s:n*Math.pow(2,-10*(t-=1))*Math.sin((t*i-l)*(2*Math.PI)/o)*.5+a+s)},easeInBack:function(t,s,r,i,a){var n=r-s;return a===void 0&&(a=1.70158),n*(t/=i)*t*((a+1)*t-a)+s},easeOutBack:function(t,s,r,i,a){var n=r-s;return a===void 0&&(a=1.70158),n*((t=t/i-1)*t*((a+1)*t+a)+1)+s},easeInOutBack:function(t,s,r,i,a){var n=r-s;return a===void 0&&(a=1.70158),(t/=i/2)<1?n/2*(t*t*(((a*=1.525)+1)*t-a))+s:n/2*((t-=2)*t*(((a*=1.525)+1)*t+a)+2)+s},easeInBounce:function(t,s,r,i){var a=r-s,n;return n=me.easeOutBounce(i-t,0,a,i),a-n+s},easeOutBounce:function(t,s,r,i){var a=r-s;return(t/=i)<1/2.75?a*(7.5625*t*t)+s:t<2/2.75?a*(7.5625*(t-=1.5/2.75)*t+.75)+s:t<2.5/2.75?a*(7.5625*(t-=2.25/2.75)*t+.9375)+s:a*(7.5625*(t-=2.625/2.75)*t+.984375)+s},easeInOutBounce:function(t,s,r,i){var a=r-s,n;return t<i/2?(n=me.easeInBounce(t*2,0,a,i),n*.5+s):(n=me.easeOutBounce(t*2-i,0,a,i),n*.5+a*.5+s)}},Tt=me;function Bt(t){return t*Math.PI/180}function D(t,s){return t+Math.random()*(s-t)}function Lt(t,s){return Math.floor(t+Math.random()*(s-t+1))}var te;(function(t){t[t.Circle=0]="Circle",t[t.Square=1]="Square",t[t.Strip=2]="Strip"})(te||(te={}));var $;(function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative"})($||($={}));const Ut=1e3/60;class qt{constructor(s,r,i,a){this.getOptions=r;const{colors:n,initialVelocityX:o,initialVelocityY:l}=this.getOptions();this.context=s,this.x=i,this.y=a,this.w=D(5,20),this.h=D(5,20),this.radius=D(5,10),this.vx=typeof o=="number"?D(-o,o):D(o.min,o.max),this.vy=typeof l=="number"?D(-l,0):D(l.min,l.max),this.shape=Lt(0,2),this.angle=Bt(D(0,360)),this.angularSpin=D(-.2,.2),this.color=n[Math.floor(Math.random()*n.length)],this.rotateY=D(0,1),this.rotationDirection=D(0,1)?$.Positive:$.Negative}update(s){const{gravity:r,wind:i,friction:a,opacity:n,drawShape:o}=this.getOptions(),l=s/Ut;this.x+=this.vx*l,this.y+=this.vy*l,this.vy+=r*l,this.vx+=i*l,this.vx*=a**l,this.vy*=a**l,this.rotateY>=1&&this.rotationDirection===$.Positive?this.rotationDirection=$.Negative:this.rotateY<=-1&&this.rotationDirection===$.Negative&&(this.rotationDirection=$.Positive);const x=.1*this.rotationDirection*l;if(this.rotateY+=x,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=n,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case te.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case te.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case te.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class $t{constructor(s,r){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=a=>{this.particles.splice(a,1)},this.getParticle=()=>{const a=D(this.x,this.w+this.x),n=D(this.y,this.h+this.y);return new qt(this.context,this.getOptions,a,n)},this.animate=a=>{const{canvas:n,context:o,particlesGenerated:l,lastNumberOfPieces:x}=this,{run:u,recycle:p,numberOfPieces:w,debug:S,tweenFunction:_,tweenDuration:d}=this.getOptions();if(!u)return!1;const O=this.particles.length,b=p?O:l;if(b<w){x!==w&&(this.tweenProgress=0,this.tweenFrom=b,this.lastNumberOfPieces=w),this.tweenProgress=Math.min(d,Math.max(0,this.tweenProgress+a));const I=_(this.tweenProgress,this.tweenFrom,w,d),R=Math.round(I-b);for(let A=0;A<R;A++)this.particles.push(this.getParticle());this.particlesGenerated+=R}S&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${O}`,n.width-10,n.height-20));for(let I=this.particles.length-1;I>=0;I--){const R=this.particles[I];R.update(a),(R.y>n.height||R.y<-100||R.x>n.width+100||R.x<-100)&&(p&&b<=w?this.particles[I]=this.getParticle():this.removeParticleAt(I))}return O>0||b<w},this.canvas=s;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.getOptions=r}}const ke={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:Tt.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class Ht{constructor(s,r){this.lastFrameTime=0,this.setOptionsWithDefaults=a=>{const n={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...n,...ke,...a},Object.assign(this,a.confettiSource)},this.update=(a=0)=>{const{options:{run:n,onConfettiComplete:o,frameRate:l},canvas:x,context:u}=this,p=Math.min(a-this.lastFrameTime,50);if(l&&p<1e3/l){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=a-(l?p%l:0),n&&(u.fillStyle="white",u.clearRect(0,0,x.width,x.height)),this.generator.animate(p)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=s;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.generator=new $t(this.canvas,()=>this.options),this.options=r,this.update()}get options(){return this._options}set options(s){var a,n;const r=(a=this._options)==null?void 0:a.run,i=(n=this._options)==null?void 0:n.recycle;this.setOptionsWithDefaults(s),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof s.recycle=="boolean"&&s.recycle&&i===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof s.run=="boolean"&&s.run&&r===!1&&this.update()}}const zt=xe.createRef();class Se extends xe.Component{constructor(s){super(s),this.canvas=xe.createRef(),this.canvas=s.canvasRef||zt}componentDidMount(){if(this.canvas.current){const s=ye(this.props)[0];this.confetti=new Ht(this.canvas.current,s)}}componentDidUpdate(){const s=ye(this.props)[0];this.confetti&&(this.confetti.options=s)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[s,r]=ye(this.props),i={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...r.style};return e.jsx("canvas",{width:s.width,height:s.height,ref:this.canvas,...r,style:i})}}Se.defaultProps={...ke};Se.displayName="ReactConfetti";function ye(t){const s={},r={},i={},a=[...Object.keys(ke),"confettiSource","drawShape","onConfettiComplete","frameRate"],n=["canvasRef"];for(const o in t){const l=t[o];a.includes(o)?s[o]=l:n.includes(o)?n[o]=l:i[o]=l}return[s,i,r]}const Yt=xe.forwardRef((t,s)=>e.jsx(Se,{canvasRef:s,...t}));let Gt={data:""},Vt=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Gt,Wt=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Qt=/\/\*[^]*?\*\/|  +/g,He=/\n+/g,H=(t,s)=>{let r="",i="",a="";for(let n in t){let o=t[n];n[0]=="@"?n[1]=="i"?r=n+" "+o+";":i+=n[1]=="f"?H(o,n):n+"{"+H(o,n[1]=="k"?"":s)+"}":typeof o=="object"?i+=H(o,s?s.replace(/([^,])+/g,l=>n.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,x=>/&/.test(x)?x.replace(/&/g,l):l?l+" "+x:x)):n):o!=null&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=H.p?H.p(n,o):n+":"+o+";")}return r+(s&&a?s+"{"+a+"}":a)+i},T={},Ye=t=>{if(typeof t=="object"){let s="";for(let r in t)s+=r+Ye(t[r]);return s}return t},Xt=(t,s,r,i,a)=>{let n=Ye(t),o=T[n]||(T[n]=(x=>{let u=0,p=11;for(;u<x.length;)p=101*p+x.charCodeAt(u++)>>>0;return"go"+p})(n));if(!T[o]){let x=n!==t?t:(u=>{let p,w,S=[{}];for(;p=Wt.exec(u.replace(Qt,""));)p[4]?S.shift():p[3]?(w=p[3].replace(He," ").trim(),S.unshift(S[0][w]=S[0][w]||{})):S[0][p[1]]=p[2].replace(He," ").trim();return S[0]})(t);T[o]=H(a?{["@keyframes "+o]:x}:x,r?"":"."+o)}let l=r&&T.g?T.g:null;return r&&(T.g=T[o]),((x,u,p,w)=>{w?u.data=u.data.replace(w,x):u.data.indexOf(x)===-1&&(u.data=p?x+u.data:u.data+x)})(T[o],s,i,l),o},Zt=(t,s,r)=>t.reduce((i,a,n)=>{let o=s[n];if(o&&o.call){let l=o(r),x=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=x?"."+x:l&&typeof l=="object"?l.props?"":H(l,""):l===!1?"":l}return i+a+(o??"")},"");function fe(t){let s=this||{},r=t.call?t(s.p):t;return Xt(r.unshift?r.raw?Zt(r,[].slice.call(arguments,1),s.p):r.reduce((i,a)=>Object.assign(i,a&&a.call?a(s.p):a),{}):r,Vt(s.target),s.g,s.o,s.k)}let Ge,je,Ne;fe.bind({g:1});let B=fe.bind({k:1});function Kt(t,s,r,i){H.p=s,Ge=t,je=r,Ne=i}function z(t,s){let r=this||{};return function(){let i=arguments;function a(n,o){let l=Object.assign({},n),x=l.className||a.className;r.p=Object.assign({theme:je&&je()},l),r.o=/ *go\d+/.test(x),l.className=fe.apply(r,i)+(x?" "+x:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),Ne&&u[0]&&Ne(l),Ge(u,l)}return a}}var Jt=t=>typeof t=="function",Ce=(t,s)=>Jt(t)?t(s):t,es=(()=>{let t=0;return()=>(++t).toString()})(),ts=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");t=!s||s.matches}return t}})(),ss=20,Ve=(t,s)=>{switch(s.type){case 0:return{...t,toasts:[s.toast,...t.toasts].slice(0,ss)};case 1:return{...t,toasts:t.toasts.map(n=>n.id===s.toast.id?{...n,...s.toast}:n)};case 2:let{toast:r}=s;return Ve(t,{type:t.toasts.find(n=>n.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=s;return{...t,toasts:t.toasts.map(n=>n.id===i||i===void 0?{...n,dismissed:!0,visible:!1}:n)};case 4:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==s.toastId)};case 5:return{...t,pausedAt:s.time};case 6:let a=s.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(n=>({...n,pauseDuration:n.pauseDuration+a}))}}},as=[],ve={toasts:[],pausedAt:void 0},Me=t=>{ve=Ve(ve,t),as.forEach(s=>{s(ve)})},rs=(t,s="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||es()}),se=t=>(s,r)=>{let i=rs(s,t,r);return Me({type:2,toast:i}),i.id},N=(t,s)=>se("blank")(t,s);N.error=se("error");N.success=se("success");N.loading=se("loading");N.custom=se("custom");N.dismiss=t=>{Me({type:3,toastId:t})};N.remove=t=>Me({type:4,toastId:t});N.promise=(t,s,r)=>{let i=N.loading(s.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let n=s.success?Ce(s.success,a):void 0;return n?N.success(n,{id:i,...r,...r==null?void 0:r.success}):N.dismiss(i),a}).catch(a=>{let n=s.error?Ce(s.error,a):void 0;n?N.error(n,{id:i,...r,...r==null?void 0:r.error}):N.dismiss(i)}),t};var is=B`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ns=B`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,os=B`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ls=z("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${is} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ns} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${os} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,cs=B`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ds=z("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${cs} 1s linear infinite;
`,ms=B`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,xs=B`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,fs=z("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ms} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${xs} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,hs=z("div")`
  position: absolute;
`,us=z("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ps=B`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gs=z("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ps} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,bs=({toast:t})=>{let{icon:s,type:r,iconTheme:i}=t;return s!==void 0?typeof s=="string"?m.createElement(gs,null,s):s:r==="blank"?null:m.createElement(us,null,m.createElement(ds,{...i}),r!=="loading"&&m.createElement(hs,null,r==="error"?m.createElement(ls,{...i}):m.createElement(fs,{...i})))},ws=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ys=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,vs="0%{opacity:0;} 100%{opacity:1;}",js="0%{opacity:1;} 100%{opacity:0;}",Ns=z("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Cs=z("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ks=(t,s)=>{let r=t.includes("top")?1:-1,[i,a]=ts()?[vs,js]:[ws(r),ys(r)];return{animation:s?`${B(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${B(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};m.memo(({toast:t,position:s,style:r,children:i})=>{let a=t.height?ks(t.position||s||"top-center",t.visible):{opacity:0},n=m.createElement(bs,{toast:t}),o=m.createElement(Cs,{...t.ariaProps},Ce(t.message,t));return m.createElement(Ns,{className:t.className,style:{...a,...r,...t.style}},typeof i=="function"?i({icon:n,message:o}):m.createElement(m.Fragment,null,n,o))});Kt(m.createElement);fe`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const ze=()=>{const[t,s]=m.useState({totalReferrals:0,completedReferrals:0,pendingReferrals:0,totalRewards:0,pendingRewards:0}),[r,i]=m.useState([]),[a,n]=m.useState([]),[o,l]=m.useState(!0),[x,u]=m.useState(null),[p,w]=m.useState(null),[S,_]=m.useState(!1),[d,O]=m.useState(!1);m.useEffect(()=>{b()},[]);const b=async()=>{try{l(!0);const{data:{user:f}}=await j.auth.getUser();if(!f){u("User not authenticated");return}const{data:M,error:L}=await j.from("users").select("id, referral_code").eq("auth_id",f.id).single();if(L)throw L;if(M.referral_code){n([{id:"current",code:M.referral_code,isActive:!0,createdAt:new Date}]);const{data:ae,error:P}=await j.from("users").select(`
            id,
            username,
            email,
            created_at,
            status
          `).eq("referred_by",M.referral_code).order("created_at",{ascending:!1});if(P)throw P;const U=(ae||[]).map(y=>({id:y.id,referredUser:{username:y.username||"Unknown",email:y.email||"Unknown"},status:y.status==="active"?"Signed Up":"pending",rewardAmount:7,createdAt:new Date(y.created_at),completedAt:y.status==="active"?new Date(y.created_at):void 0}));i(U);const V=U.filter(y=>y.status==="Signed Up").length,he=U.filter(y=>y.status==="pending").length,re=U.filter(y=>y.status==="Signed Up").reduce((y,ie)=>y+ie.rewardAmount,0);s({totalReferrals:U.length,completedReferrals:V,pendingReferrals:he,totalRewards:re,pendingRewards:0})}}catch(f){console.error("Error fetching referral data:",f),u("Failed to load referral data")}finally{l(!1)}},I=async()=>{try{O(!0);const{data:{user:f}}=await j.auth.getUser();if(!f){N.error("User not authenticated");return}const{data:M,error:L}=await j.from("users").select("id").eq("auth_id",f.id).single();if(L||!M){N.error("Failed to get user data");return}const{data:ae,error:P}=await j.rpc("handle_referral_code_generation",{p_user_id:M.id});if(P)throw P;N.success("New referral code generated!"),await b()}catch(f){console.error("Error generating referral code:",f),N.error("Failed to generate referral code")}finally{O(!1)}},R=f=>{const M=`https://dowody.github.io/rw/signin?ref=${f}`;navigator.clipboard.writeText(M),w(f),N.success("Referral link copied to clipboard!"),setTimeout(()=>w(null),2e3)},A=f=>{switch(f){case"Signed Up":return"bg-green-500/20 text-green-400";case"pending":return"bg-yellow-500/20 text-yellow-400";case"expired":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}};return x?e.jsx("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 p-4 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kt,{className:"w-5 h-5"}),e.jsx("p",{children:x})]})}):e.jsxs(v.div,{initial:{opacity:1,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-[#210746] to-[#2C095D] rounded-2xl p-4 border border-[#8a4fff]/10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"bg-[#8a4fff]/10 p-2 rounded-lg",children:e.jsx(be,{className:"w-5 h-5 text-[#8a4fff]"})}),e.jsx("h3",{className:"text-lg font-semibold text-[#8a4fff]",children:"Total Referrals"})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:t.totalReferrals}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[t.completedReferrals," signed up, ",t.pendingReferrals," pending"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-[#210746] to-[#2C095D] rounded-2xl p-4 border border-[#8a4fff]/10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"bg-[#8a4fff]/10 p-2 rounded-lg",children:e.jsx(Rt,{className:"w-5 h-5 text-[#8a4fff]"})}),e.jsx("h3",{className:"text-lg font-semibold text-[#8a4fff]",children:"Total Rewards"})]}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:[t.totalRewards," days"]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Free subscription days earned"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-[#210746] to-[#2C095D] rounded-2xl p-4 sm:p-6 border border-[#8a4fff]/10",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-[#8a4fff] flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4 sm:w-5 sm:h-5"})," Your Referral Codes"]}),e.jsx("p",{className:"text-sm sm:text-sm text-gray-400 mt-0.5",children:"Share these codes with friends to earn rewards"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:I,disabled:d,className:`bg-[#8a4fff] text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg sm:rounded-xl 
            hover:bg-[#7a3ddf] transition-colors flex items-center justify-center gap-2 w-full sm:w-auto
            disabled:opacity-50 disabled:cursor-not-allowed text-sm`,children:d?e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"w-4 h-4 animate-spin"})," Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"w-4 h-4"})," Generate New Code"]})})]}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:d?e.jsxs("div",{className:"text-center py-6 sm:py-8 text-gray-400",children:[e.jsx(Q,{className:"w-5 h-5 sm:w-6 sm:h-6 animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:"Generating new referral code..."})]}):o?e.jsxs("div",{className:"text-center py-6 sm:py-8 text-gray-400",children:[e.jsx(Q,{className:"w-5 h-5 sm:w-6 sm:h-6 animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:"Loading referral codes..."})]}):a.length===0?e.jsx("div",{className:"text-center py-6 sm:py-8 text-gray-400",children:e.jsx("p",{className:"text-sm",children:"No referral codes generated yet"})}):a.map(f=>e.jsx("div",{className:"bg-[#2c1b4a] rounded-lg sm:rounded-xl p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"bg-[#8a4fff]/10 p-1.5 sm:p-2 rounded-lg",children:e.jsx(ee,{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#8a4fff]"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm sm:text-base text-white font-medium truncate",children:f.code}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-400",children:["Created ",f.createdAt.toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 self-end sm:self-auto",children:[e.jsx("button",{onClick:()=>R(f.code),className:`bg-[#8a4fff]/10 text-[#8a4fff] p-1.5 sm:p-2 rounded-lg 
                      hover:bg-[#8a4fff]/20 transition-colors`,title:"Copy referral link",children:p===f.code?e.jsx(G,{className:"w-4 h-4 sm:w-5 sm:h-5"}):e.jsx(Pt,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("a",{href:`https://dowody.github.io/rw/signin?ref=${f.code}`,target:"_blank",rel:"noopener noreferrer",className:`bg-[#8a4fff]/10 text-[#8a4fff] p-1.5 sm:p-2 rounded-lg 
                      hover:bg-[#8a4fff]/20 transition-colors`,title:"Open referral link",children:e.jsx(Dt,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})},f.id))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-[#210746] to-[#2C095D] rounded-2xl p-4 sm:p-6 border border-[#8a4fff]/10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-[#8a4fff] flex items-center gap-2",children:[e.jsx(be,{className:"w-4 h-4 sm:w-5 sm:h-5"})," Referral History"]}),e.jsx("p",{className:"text-sm sm:text-sm text-gray-400 mt-0.5",children:"Track your referrals and rewards"})]}),!o&&r.length>3&&e.jsx("button",{onClick:()=>_(!S),className:`text-[#8a4fff] hover:bg-[#8a4fff]/10 px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg sm:rounded-xl 
              transition-colors text-xs sm:text-sm`,children:S?"Show Less":"Show More"})]}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:o?e.jsxs("div",{className:"text-center py-6 sm:py-8 text-gray-400",children:[e.jsx(Q,{className:"w-5 h-5 sm:w-6 sm:h-6 animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:"Loading referral history..."})]}):r.length===0?e.jsx("div",{className:"text-center py-6 sm:py-8 text-gray-400",children:e.jsx("p",{className:"text-sm",children:"No referrals yet"})}):r.slice(0,S?void 0:3).map(f=>e.jsxs("div",{className:"bg-[#2c1b4a] rounded-lg sm:rounded-xl p-4 pt-5 pb-5 sm:p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[e.jsx("div",{className:"bg-[#8a4fff]/10 p-1.5 sm:p-2 rounded-lg",children:e.jsx(be,{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#8a4fff]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm sm:text-base text-white font-medium",children:f.referredUser.username}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:f.referredUser.email})]})]}),e.jsx("span",{className:`px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs sm:text-sm ${A(f.status)}`,children:f.status})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs sm:text-sm",children:[e.jsxs("div",{className:"",children:["Referred on ",f.createdAt.toLocaleDateString()]}),e.jsxs("div",{className:"text-white font-medium",children:["Reward: ",f.rewardAmount," days free"]})]})]},f.id))})]})]})},_s=()=>{const[t,s]=m.useState(null),[r,i]=m.useState("overview"),[a,n]=m.useState(!0),[o,l]=m.useState(null),[x,u]=m.useState(()=>localStorage.getItem("showSubscriptionMessage")!=="false"),[p,w]=m.useState(()=>localStorage.getItem("hasRenewed")==="true"),[S,_]=m.useState([]),[d,O]=m.useState(null),[b,I]=m.useState("inactive"),[R,A]=m.useState(null),f=ut(),M=pt(),[L,ae]=m.useState([]),[P,U]=m.useState(null),[V,he]=m.useState(!1),[re,y]=m.useState(""),[ie,We]=m.useState(""),[Pe,Qe]=m.useState(""),[ue,Xe]=m.useState(""),[X,Ee]=m.useState(["Capsule","Sticker","Pass","Key","Case","Graffiti","Tag","Music Kit","Souvenir"]),[ne,De]=m.useState(""),[Ie,oe]=m.useState(null),[Ze,Re]=m.useState(!1),[le,Ke]=m.useState({width:window.innerWidth,height:window.innerHeight}),[Je,et]=m.useState(!1);m.useEffect(()=>{if(!a){const c=setTimeout(()=>{et(!0)},2e3);return()=>clearTimeout(c)}},[a]),m.useEffect(()=>{(()=>{const h=localStorage.getItem("showPurchaseSuccess")==="true",E=localStorage.getItem("newSubscription")==="true",g=M.state;(h||E||g!=null&&g.showCongrats)&&(console.log("Showing congratulatory popup"),Re(!0),localStorage.removeItem("showPurchaseSuccess"),localStorage.removeItem("newSubscription"),window.history.replaceState({},document.title))})()},[M.state]),m.useEffect(()=>{const c=()=>{Ke({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),m.useEffect(()=>{const c=M.state;if(c!=null&&c.section&&i(c.section),c!=null&&c.message){l(c.message);const h=setTimeout(()=>{l(null)},4e3);return()=>clearTimeout(h)}window.history.replaceState({},document.title)},[M]),m.useEffect(()=>{(async()=>{try{const{data:{user:h}}=await j.auth.getUser();if(!h){f("/signin");return}const{data:E,error:g}=await j.from("users").select(`
            id, 
            auth_id, 
            username, 
            email, 
            current_subscription_id, 
            subscription_start_date,
            total_purchases,
            total_spent,
            created_at
          `).eq("auth_id",h.id).single();if(g){console.error("User Fetch Error:",g),l("Failed to load user data");return}const{data:F,error:Z}=await j.from("orders").select(`
            id,
            subscription_id,
            expiration_date,
            transaction_date,
            status
          `).eq("user_id",E.id).eq("status","completed").order("transaction_date",{ascending:!1}).limit(1).single();if(Z&&console.error("Latest Order Fetch Error:",Z),F){const{data:C,error:q}=await j.from("subscriptions").select("*").eq("id",F.subscription_id).single();if(q)console.error("Subscription Fetch Error:",q);else if(C){const W=new Date(F.expiration_date),ge=W>new Date?"active":"expired",ce=C.name.toLowerCase();ce.includes("trial")?A("trial"):ce.includes("month")?A("monthly"):ce.includes("6")?A("6-months"):ce.includes("year")&&A("yearly"),O({...C,endDate:W,status:ge,orderId:F.id}),I(ge),ge==="active"&&U({subscriptionName:C.name,date:W,amount:C.price})}}else O(null),I("inactive"),A(null),U(null);s(E);const{data:Y,error:K}=await j.from("orders_with_items").select(`
            id,
            total_amount,
            transaction_date,
            status,
            items,
            subscription_id
          `).eq("user_id",E.id).order("transaction_date",{ascending:!1});K&&console.error("Billing History Fetch Error:",K);const _e=(Y==null?void 0:Y.map(C=>C.subscription_id).filter(Boolean))||[];let Fe={};if(_e.length>0){const{data:C,error:q}=await j.from("subscriptions").select("id, name").in("id",_e);q?console.error("Subscriptions Fetch Error:",q):Fe=(C||[]).reduce((W,pe)=>(W[pe.id]=pe,W),{})}const ft=(Y||[]).map(C=>{var q;return{id:C.id,amount:C.total_amount,date:new Date(C.transaction_date),status:C.status,subscriptionName:((q=Fe[C.subscription_id])==null?void 0:q.name)||"Unknown Subscription",items:C.items||[]}});ae(ft),n(!1)}catch(h){console.error("Unexpected Error Fetching User Data:",h),l("An unexpected error occurred"),n(!1)}})()},[f,M]);const tt=()=>{ne&&!X.includes(ne)&&(Ee([...X,ne]),De(""))},st=c=>{Ee(X.filter(h=>h!==c))},at=async()=>{try{if(!ue){l("Session token is required");return}const c={minPrice:re,maxPrice:ie,maxPercentage:Pe,sessionToken:ue,blacklist:X,subscriptionId:d==null?void 0:d.id},{data:h,error:E}=await j.from("bot_configurations").insert(c);if(E)throw E;oe("Bot started successfully!"),setTimeout(()=>{oe(null)},4e3)}catch(c){console.error("Bot start error:",c),l("Failed to start bot")}},rt=async()=>{try{const{error:c}=await j.from("bot_configurations").update({status:"stopped"}).eq("subscriptionId",d==null?void 0:d.id);if(c)throw c;oe("Bot stopped successfully!"),setTimeout(()=>{oe(null)},4e3)}catch(c){console.error("Bot stop error:",c),l("Failed to stop bot")}},it=async()=>{try{const{error:c}=await j.auth.signOut();c&&console.error("Error logging out:",c),f("/")}catch(c){console.error("Logout failed",c)}},nt=c=>{const h=c.target.value;y(h===""?"":Number(h))},ot=c=>{const h=c.target.value;We(h===""?"":Number(h))},lt=c=>{const h=c.target.value;Qe(h===""?"":Number(h))},ct=()=>{if(b!=="expired")return null;const h={trial:{title:"Thanks for trying Rollwithdraw!",message:"Your 24-hour trial has ended. Choose a plan to continue using the platform.",buttonText:"Renew Your Subscription"},monthly:{title:"Monthly Subscription Ended",message:"Your monthly subscription has expired. Renew now to continue enjoying all features.",buttonText:"Renew Subscription"},"6-months":{title:"6-Month Subscription Ended",message:"Your 6-month subscription has expired. Renew now to maintain your access.",buttonText:"Renew Subscription"},yearly:{title:"Yearly Subscription Ended",message:"Your yearly subscription has expired. Renew now to continue using premium features.",buttonText:"Renew Subscription"}}[R||"trial"];return e.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-[#210746] to-[#2C095D] rounded-2xl p-4 sm:p-6 border border-[#8a4fff]/10 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"bg-[#8a4fff]/10 p-2 rounded-lg",children:e.jsx(de,{className:"w-5 h-5 text-[#8a4fff]"})}),e.jsx("h3",{className:"text-lg font-semibold text-[#8a4fff]",children:h.title})]}),e.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:h.message})]}),e.jsxs("button",{onClick:()=>{f("/",{state:{scrollTo:"#products",timestamp:Date.now()}})},className:`w-full sm:w-auto bg-[#8a4fff] text-white px-6 py-3 rounded-xl 
            hover:bg-[#7a3ddf] transition-colors flex items-center justify-center gap-2
            text-sm sm:text-base font-medium`,children:[e.jsx(we,{className:"w-4 h-4"}),h.buttonText]})]})})},dt=()=>d?e.jsxs("div",{children:[e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-white mb-2",children:d.name}),e.jsxs("div",{className:"space-y-2 text-sm sm:text-base text-gray-300",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subscription Time Left:"}),e.jsx("span",{children:(()=>{const c=new Date,h=d.endDate.getTime()-c.getTime(),E=Math.max(0,Math.ceil(h/(1e3*60*60))),g=Math.floor(E/24),F=E%24;return g>0?`${g}d ${F}h`:`${E}h`})()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Price:"}),e.jsxs("span",{children:["â‚¬",d.price]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Status:"}),e.jsx("span",{className:b==="active"?"text-green-400":"text-red-400",children:b==="active"?"Active":"Expired"})]}),b==="expired"&&!p&&e.jsxs("div",{className:"flex items-center text-red-400 mt-2",children:[e.jsx(de,{className:"mr-2 w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"text-sm",children:"Subscription has expired"})]})]})]}):e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:"No active subscription"}),b==="expired"&&!p&&e.jsx("p",{className:"text-sm text-red-400 mt-2",children:"Expired"}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{f("/",{state:{scrollTo:"#products",timestamp:Date.now()}})},className:`bg-[#8a4fff] text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg 
            hover:bg-[#7a3ddf] transition-colors flex items-center justify-center mt-4`,children:[e.jsx(J,{className:"mr-2 w-4 h-4 sm:w-5 sm:h-5"})," Buy Subscription"]})]});if(a||!Je)return e.jsxs("div",{className:"min-h-screen bg-[#04011C] flex flex-col items-center justify-center p-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-[#8a4fff]"}),e.jsx("p",{className:"mt-4 text-[#8a4fff] text-sx",children:a?"Loading your account...":"Preparing your account details..."})]});if(o)return e.jsxs("div",{className:"min-h-screen bg-[#04011C] flex flex-col items-center justify-center p-4",children:[e.jsx(v.div,{initial:{opacity:1,y:-20},animate:{opacity:1,y:0},exit:{opacity:1,y:-20},transition:{duration:.3},className:"mb-8 w-full max-w-md mx-auto",children:e.jsxs("div",{className:`
          ${o.includes("successfully")?"bg-green-500/20 border border-green-500 text-green-400 text-sm text-center lg:text-base w-[90%] mx-auto":"bg-red-500/10 border border-red-500 text-red-400 text-sm lg:text-base w-[90%] mx-auto"} 
          p-4 rounded-xl flex flex-col items-center
        `,children:[o.includes("successfully")?e.jsx(G,{className:"mb-2 w-5 h-5 lg:w-6 lg:h-6 "}):e.jsx(de,{className:"mb-2 w-6 h-6"}),e.jsx("p",{children:o})]})}),e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-[#8a4fff]"})]});const mt=()=>e.jsxs(e.Fragment,{children:[e.jsx(Yt,{width:le.width,height:le.height,recycle:!0,numberOfPieces:350,gravity:.2,initialVelocityY:30,initialVelocityX:20,tweenDuration:5e3,colors:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEEAD","#D4A5A5","#9B59B6","#3498DB","#E67E22","#2ECC71"],confettiSource:{x:le.width/3,y:-10,w:le.width/3,h:0},drawShape:c=>{const h=["circle","square","triangle","spiral"],E=h[Math.floor(Math.random()*h.length)],g=Math.random()*4+2;switch(c.beginPath(),E){case"circle":c.arc(0,0,g,0,Math.PI*2);break;case"square":c.rect(-g,-g,g*2,g*2);break;case"triangle":c.moveTo(0,-g),c.lineTo(g,g),c.lineTo(-g,g);break;case"spiral":for(let F=0;F<4;F++){const Z=F*Math.PI/2,Y=Math.cos(Z)*g,K=Math.sin(Z)*g;F===0?c.moveTo(Y,K):c.lineTo(Y,K)}break}c.fill()}}),e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[9999]",children:e.jsx("div",{className:"bg-[#0a0415]/90 p-6 rounded-xl border border-[#8a4fff]/20 max-w-xs w-full mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-[#8a4fff]/5 rounded-lg flex items-center justify-center mx-auto mb-4",children:e.jsx(we,{className:"w-6 h-6 text-[#8a4fff]"})}),e.jsx("h2",{className:"text-xl font-medium text-white mb-2",children:"Subscription Activated"}),e.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"You're all set! Your subscription has been activated. ðŸŽ‰ðŸ¥³"}),e.jsx("button",{onClick:()=>Re(!1),className:"w-full bg-[#8a4fff]/10 text-[#8a4fff] py-2.5 rounded-lg hover:bg-[#8a4fff]/20 transition-colors text-sm",children:"Continue"})]})})})]}),xt=[{id:"overview",label:"Overview",icon:e.jsx(Te,{className:"w-5 h-5"}),component:null},{id:"purchases",label:"Subscription",icon:e.jsx(yt,{className:"w-5 h-5"}),component:null},{id:"referrals",label:"Referrals",icon:e.jsx(ee,{className:"w-5 h-5"}),component:e.jsx(ze,{})},{id:"invoices",label:"Billing",icon:e.jsx(Be,{className:"w-5 h-5"}),component:null},{id:"settings",label:"Settings",icon:e.jsx(qe,{className:"w-5 h-5"}),component:null}];return e.jsxs(e.Fragment,{children:[Ze&&e.jsx(mt,{}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#04011C] to-[#0a0415] py-16 px-4 mt-10",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"grid md:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"md:col-span-3 bg-[#1a0b2e]/50 backdrop-blur-xl rounded-3xl p-4 sm:p-6 border border-[#8a4fff]/10",children:[e.jsxs("div",{className:"flex flex-col items-center mb-6 sm:mb-8",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:"/rw/avatar.jpg",alt:(t==null?void 0:t.username)||"User",className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full border-4 border-[#8a4fff] mb-3 sm:mb-4 object-cover"})}),e.jsx("h2",{className:"text-xl mb-1 sm:text-xl font-bold text-white",children:t==null?void 0:t.username}),e.jsx("p",{className:"text-sm sm:text-sm text-gray-400",children:t==null?void 0:t.email})]}),e.jsx("div",{className:"space-y-1 sm:space-y-2",children:xt.map(c=>e.jsxs("button",{onClick:()=>i(c.id),className:`
                      flex items-center space-x-3 w-full px-4 py-3 rounded-lg transition-colors
                      ${r===c.id?"bg-[#8a4fff]/10 text-[#8a4fff]":"text-gray-400 hover:text-white hover:bg-[#8a4fff]/5"}
                    `,children:[c.icon,e.jsx("span",{className:"text-sm font-medium",children:c.label})]},c.id))}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:it,className:`w-full mt-6 sm:mt-8 py-2 sm:py-3 bg-red-500/10 text-red-400 
                rounded-xl hover:bg-red-500/20 transition-colors flex items-center justify-center text-sm lg:text-base sm:text-sm`,children:[e.jsx(gt,{className:"mr-2 sm:mr-2 w-4 h-4 sm:w-5 sm:h-5"})," Logout"]})]}),e.jsxs("div",{className:"md:col-span-9 space-y-8",children:[r==="overview"&&e.jsxs(v.div,{initial:{opacity:1,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-[#210746] to-[#2C095D] rounded-3xl p-4 sm:p-8 border border-[#8a4fff]/10 flex items-center",children:[e.jsx("img",{src:"/rw/avatar.jpg",alt:t==null?void 0:t.username,className:"w-16 h-16 sm:w-24 sm:h-24 rounded-full mr-4 sm:mr-6 border-4 border-[#8a4fff]"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-3xl font-bold text-[#8a4fff] mb-1 sm:mb-2",children:t==null?void 0:t.username}),e.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:t==null?void 0:t.email})]})]}),e.jsxs("div",{className:"grid md:grid-cols-1 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-[#210746] to-[#2C095D] rounded-3xl p-4 sm:p-6 border border-[#8a4fff]/10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3 sm:mb-4",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-[#8a4fff] flex items-center",children:[e.jsx($e,{className:"mr-2 sm:mr-3 w-5 h-5 sm:w-6 sm:h-6"})," Current Subscription"]}),e.jsx("span",{className:`
                            px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold
                            ${b==="active"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}
                          `,children:b==="active"?"Active":"Expired"})]}),dt()]}),b==="active"&&e.jsx(v.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-gradient-to-br from-[#210746] to-[#2C095D] rounded-3xl p-4 sm:p-6 border border-[#8a4fff]/10 mt-2",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-[#8a4fff] flex items-center mb-2",children:[e.jsx(J,{className:"mr-2 sm:mr-3 w-5 h-5 sm:w-6 sm:h-6"})," Bot Configuration"]}),e.jsx("p",{className:"text-gray-400 text-sm lg:text-base sm:text-sm",children:"Set up your withdrawal bot"})]}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i("purchases"),className:`w-full sm:w-auto bg-[#8a4fff] text-[14px] sm:text-base text-white px-4 sm:px-6 py-2.5 sm:py-3 rounded-xl 
                          hover:bg-[#7a3ddf] transition-colors flex items-center justify-center`,children:[e.jsx(Ue,{className:"mr-2 w-4 h-4 sm:w-5 sm:h-5"}),"Activate Bot"]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-[#210746] to-[#2C095D] rounded-3xl p-4 sm:p-6 border border-[#8a4fff]/10 mt-2",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-[#8a4fff] flex items-center mb-2",children:[e.jsx(ee,{className:"mr-2 sm:mr-3 w-5 h-5 sm:w-6 sm:h-6"})," Referral Program"]}),e.jsx("p",{className:"text-gray-400 text-sm lg:text-base sm:text-sm",children:"Invite friends and earn 7 days of free subscription for each successful referral"})]}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i("referrals"),className:`w-full sm:w-auto bg-[#8a4fff] text-[14px] sm:text-base text-white px-4 sm:px-6 py-2.5 sm:py-3 rounded-xl 
                          hover:bg-[#7a3ddf] transition-colors flex items-center justify-center`,children:[e.jsx(ee,{className:"mr-2 w-4 h-4 sm:w-5 sm:h-5"}),"View Referrals"]})]})})]}),P&&b==="active"&&e.jsxs("div",{className:"bg-gradient-to-br from-[#210746] to-[#2C095D] rounded-3xl p-4 sm:p-6 border border-[#8a4fff]/10 mt-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4 sm:mb-6",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-[#8a4fff] flex items-center",children:[e.jsx(jt,{className:"mr-2 sm:mr-3 w-5 h-5 sm:w-6 sm:h-6"})," Upcoming Billing"]}),!P.subscriptionName.toLowerCase().includes("trial")&&e.jsxs("button",{onClick:()=>{if(M.pathname==="/"){const c=document.querySelector("#products");c&&c.scrollIntoView({behavior:"smooth",block:"start"})}else f("/",{state:{scrollTo:"#products",timestamp:Date.now()}})},className:`w-full sm:w-auto bg-[#8a4fff]/10 text-[#8a4fff] px-4 py-2 rounded-lg 
                            hover:bg-[#8a4fff]/20 transition-colors flex items-center justify-center`,children:[e.jsx(Q,{className:"mr-2 w-4 h-4"}),"Renew Subscription"]})]}),e.jsx("div",{className:"bg-[#2c1b4a] rounded-xl p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-semibold text-white",children:P.subscriptionName.toLowerCase().includes("trial")?"Free Trial Period":`Next Billing: ${P.subscriptionName}`}),e.jsxs("p",{className:"text-xs text-gray-400 flex items-center mt-1",children:[e.jsx(Le,{className:"mr-2 w-4 h-4"}),P.date.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]}),e.jsx("div",{className:"text-left sm:text-right",children:P.subscriptionName.toLowerCase().includes("trial")?e.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs mt-1 bg-yellow-500/20 text-yellow-400",children:"Limited Access"}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-white font-bold text-lg",children:["â‚¬",P.amount.toFixed(2)]}),e.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs mt-1 bg-blue-500/20 text-blue-400",children:"Upcoming"})]})})]})}),!P.subscriptionName.toLowerCase().includes("trial")&&e.jsxs("div",{className:"mt-4 bg-[#2c1b4a] rounded-xl p-4",children:[e.jsxs("h5",{className:"text-sm lg:text-base font-semibold text-[#8a4fff] mb-3 flex items-center",children:[e.jsx(J,{className:"mr-2 w-5 h-5"}),"Renewal Benefits"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-gray-300",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(G,{className:"mr-2 w-4 h-4 text-green-500"}),"Continuous Access"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(G,{className:"mr-2 w-4 h-4 text-green-500"}),"Priority Support"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(G,{className:"mr-2 w-4 h-4 text-green-500"}),"Early Access Features"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(G,{className:"mr-2 w-4 h-4 text-green-500"}),"Unlimited Withdrawals"]})]})]})]}),e.jsx(ct,{})]}),r==="purchases"&&e.jsxs(v.div,{initial:{opacity:1,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-8",children:[e.jsxs("div",{className:"relative rounded-3xl p-4 sm:p-6 border-2 border-[#8a4fff] overflow-hidden",style:{backgroundImage:`url(${(d==null?void 0:d.name)==="1 Month Licence"?"https://mir-s3-cdn-cf.behance.net/project_modules/source/f02b1965126337.6021db766416d.jpg":(d==null?void 0:d.name)==="6 Months Licence"?"https://mir-s3-cdn-cf.behance.net/project_modules/source/8bf05765126337.6002d0c795c64.jpg":((d==null?void 0:d.name)==="12 Months Licence","https://mir-s3-cdn-cf.behance.net/project_modules/source/08ce9a65126337.5b4c8ac9c4b3b.jpg")})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2c1b4a]/90 to-[#1a0b2e]/90"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#8a4fff]/20 to-[#5e3c9b]/10 opacity-50 pointer-events-none"}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx("h2",{className:`text-2xl sm:text-3xl lg:text-4xl font-bold mb-2 sm:mb-3 
                          text-transparent bg-clip-text 
                          bg-gradient-to-r from-[#8a4fff] to-[#5e3c9b]`,children:(d==null?void 0:d.name)||"No Subscription"}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[e.jsx(v.span,{initial:{scale:.8,opacity:1},animate:{scale:1,opacity:1},className:`
                              px-2 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-semibold uppercase tracking-wider
                              ${b==="active"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}
                            `,children:b}),d&&e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 text-gray-400",children:[e.jsx(Le,{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#8a4fff]"}),e.jsxs("span",{className:"text-xs sm:text-sm",children:["Expires ",d.endDate.toLocaleDateString()]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("div",{className:"bg-[#8a4fff]/10 rounded-full p-2 sm:p-3",children:e.jsx(we,{className:"w-4 h-4 sm:w-6 sm:h-6 text-[#8a4fff]"})}),e.jsx("div",{className:"bg-[#8a4fff]/10 rounded-full p-2 sm:p-3",children:e.jsx(J,{className:"w-4 h-4 sm:w-6 sm:h-6 text-[#8a4fff]"})})]})]})]}),b==="active"&&d&&e.jsxs("div",{className:"bg-gradient-to-br from-[#210746] to-[#2C095D] rounded-3xl p-4 sm:p-6 border border-[#8a4fff]/10 space-y-4 sm:space-y-6",children:[e.jsxs("h3",{className:"text-base sm:text-xl font-semibold text-[#8a4fff] flex items-center",children:[e.jsx(qe,{className:"mr-2 sm:mr-3 w-4 h-4 sm:w-6 sm:h-6"})," Bot Configuration"]}),Ie&&e.jsx(v.div,{initial:{opacity:1,y:-10},animate:{opacity:1,y:0},className:"bg-green-500/20 border border-green-500/30 text-green-400 p-3 sm:p-4 rounded-xl text-sm sm:text-sm",children:Ie}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm text-gray-400 mb-1 sm:mb-2",children:"Minimum Price"}),e.jsx("input",{type:"number",value:re,onChange:nt,className:`w-full p-2 sm:p-3 bg-[#2c1b4a] rounded-xl text-sm sm:text-base text-white 
                          border border-[#8a4fff]/20 focus:border-[#8a4fff] 
                          transition-colors`,placeholder:"Enter minimum price"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm text-gray-400 mb-1 sm:mb-2",children:"Maximum Price"}),e.jsx("input",{type:"number",value:ie,onChange:ot,className:`w-full p-2 sm:p-3 bg-[#2c1b4a] rounded-xl text-sm sm:text-base text-white 
                          border border-[#8a4fff]/20 focus:border-[#8a4fff] 
                          transition-colors`,placeholder:"Enter maximum price"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm text-gray-400 mb-1 sm:mb-2",children:"Maximum Percentage"}),e.jsx("input",{type:"number",value:Pe,onChange:lt,className:`w-full p-2 sm:p-3 bg-[#2c1b4a] rounded-xl text-sm sm:text-base text-white 
                        border border-[#8a4fff]/20 focus:border-[#8a4fff] 
                        transition-colors`,placeholder:"Enter maximum percentage"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm text-gray-400 mb-1 sm:mb-2",children:"Session Token"}),e.jsx("input",{type:"text",value:ue,onChange:c=>Xe(c.target.value),className:`w-full p-2 sm:p-3 bg-[#2c1b4a] rounded-xl text-sm sm:text-base text-white 
                        border border-[#8a4fff]/20 focus:border-[#8a4fff] 
                        transition-colors`,placeholder:"Enter your session token"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-400 mt-1 sm:mt-2",children:["Learn how to find your session token"," ",e.jsx(bt,{to:"/faq",className:"text-[#8a4fff] hover:underline",children:"here"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm text-gray-400 mb-1 sm:mb-2",children:"Blacklist"}),e.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2 mb-2 sm:mb-3",children:X.map((c,h)=>e.jsxs("div",{className:"bg-[#2c1b4a] px-2 sm:px-3 py-0.5 sm:py-1 rounded-full flex items-center text-xs sm:text-sm",children:[e.jsx("span",{className:"mr-1 sm:mr-2 text-white",children:c}),e.jsx("button",{onClick:()=>st(c),className:"text-red-400 hover:text-red-500",children:e.jsx(wt,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]},h))}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:ne,onChange:c=>De(c.target.value),className:`flex-grow p-2 sm:p-3 bg-[#2c1b4a] rounded-xl text-sm sm:text-base text-white 
                          border border-[#8a4fff]/20 focus:border-[#8a4fff] 
                          transition-colors mr-2`,placeholder:"Add blacklist item"}),e.jsx("button",{onClick:tt,className:`bg-[#8a4fff] text-white px-5 sm:px-4 py-2 rounded-xl 
                          hover:bg-[#7a3ddf] transition-colors text-xs sm:text-sm`,children:"Add"})]})]}),e.jsxs("div",{className:"flex space-x-3 sm:space-x-4",children:[e.jsxs("button",{onClick:at,className:`flex-1 bg-green-500 text-white py-2 sm:py-3 rounded-xl 
                        hover:bg-green-600 transition-colors flex items-center justify-center text-xs sm:text-sm`,children:[e.jsx(Ue,{className:"mr-1 sm:mr-2 w-3 h-3 sm:w-5 sm:h-5"})," START"]}),e.jsxs("button",{onClick:rt,className:`flex-1 bg-red-500 text-white py-2 sm:py-3 rounded-xl 
                        hover:bg-red-600 transition-colors flex items-center justify-center text-xs sm:text-sm`,children:[e.jsx(At,{className:"mr-1 sm:mr-2 w-3 h-3 sm:w-5 sm:h-5"})," STOP"]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-[#210746] to-[#2C095D] rounded-3xl p-4 sm:p-6 border border-[#8a4fff]/10 space-y-3 sm:space-y-4",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("h3",{className:"text-base sm:text-xl font-semibold text-[#8a4fff] flex items-center",children:[e.jsx($e,{className:"mr-2 sm:mr-3 w-4 h-4 sm:w-6 sm:h-6"})," Subscription Overview"]})}),d?e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"bg-[#2c1b4a] rounded-xl p-3 sm:p-4 flex justify-between items-center",children:[e.jsx("span",{className:"text-xs sm:text-sm text-gray-300",children:"Name"}),e.jsx("span",{className:"font-semibold text-white text-xs sm:text-sm",children:d.name})]}),e.jsxs("div",{className:"bg-[#2c1b4a] rounded-xl p-3 sm:p-4 flex justify-between items-center",children:[e.jsx("span",{className:"text-xs sm:text-sm text-gray-300",children:"Price"}),e.jsxs("span",{className:"font-semibold text-green-400 text-xs sm:text-sm",children:["â‚¬",d.price]})]}),e.jsxs("div",{className:"bg-[#2c1b4a] rounded-xl p-3 sm:p-4 flex justify-between items-center",children:[e.jsx("span",{className:"text-xs sm:text-sm text-gray-300",children:"Duration"}),e.jsxs("span",{className:"font-semibold text-white text-xs sm:text-sm",children:[d.duration_days," Days"]})]}),e.jsxs("div",{className:"bg-[#2c1b4a] rounded-xl p-3 sm:p-4 flex justify-between items-center",children:[e.jsx("span",{className:"text-xs sm:text-sm text-gray-300",children:"Start Date"}),e.jsx("span",{className:"font-semibold text-white text-xs sm:text-sm",children:d!=null&&d.startDate?new Date(d.startDate).toLocaleDateString():"N/A"})]}),e.jsxs("div",{className:"bg-[#2c1b4a] rounded-xl p-3 sm:p-4 flex justify-between items-center",children:[e.jsx("span",{className:"text-xs sm:text-sm text-gray-300",children:"Expiration Date"}),e.jsx("span",{className:"font-semibold text-white text-xs sm:text-sm",children:d!=null&&d.endDate?new Date(d.endDate).toLocaleDateString():"N/A"})]})]}):e.jsx("p",{className:"text-xs sm:text-sm text-gray-400 text-center",children:"No active subscription"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-[#210746] to-[#2C095D] rounded-3xl p-4 sm:p-6 border border-[#8a4fff]/10 space-y-3 sm:space-y-4",children:[e.jsxs("h3",{className:"text-base sm:text-xl font-semibold text-[#8a4fff] flex items-center",children:[e.jsx(Te,{className:"mr-2 sm:mr-3 w-4 h-4 sm:w-6 sm:h-6"})," Subscription Features"]}),e.jsx("div",{className:"space-y-2 sm:space-y-3",children:[{label:"Withdrawals per Day",value:(d==null?void 0:d.max_withdrawals_per_day)||"N/A",icon:e.jsx(J,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400"})},{label:"Advanced Filtering",value:d!=null&&d.advanced_filtering?"Enabled":"Disabled",icon:e.jsx(It,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-400"})},{label:"Risk Management",value:d!=null&&d.risk_management?"Enabled":"Disabled",icon:e.jsx(Ct,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-400"})},{label:"Case Collection",value:d!=null&&d.max_case_collection?"Enabled":"Disabled",icon:e.jsx(St,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-400"})}].map((c,h)=>e.jsxs("div",{className:"bg-[#2c1b4a] rounded-xl p-3 sm:p-4 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[c.icon,e.jsx("span",{className:"text-xs sm:text-sm text-gray-300",children:c.label})]}),e.jsx("span",{className:"font-semibold text-white text-xs sm:text-sm",children:c.value})]},h))})]})]})]}),r==="invoices"&&e.jsx(v.div,{initial:{opacity:1,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-8",children:e.jsxs("div",{className:"bg-gradient-to-br from-[#210746] to-[#2C095D] rounded-3xl p-4 sm:p-6 border border-[#8a4fff]/10",children:[e.jsx("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl sm:text-2xl font-bold text-[#8a4fff] flex items-center",children:[e.jsx(_t,{className:"mr-2 sm:mr-3 w-5 h-5 sm:w-7 sm:h-7"})," Billing History"]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-0.5 sm:mt-1 mb-4",children:"Overview of your recent transactions"})]})}),L.length===0?e.jsxs("div",{className:"bg-[#2c1b4a] rounded-xl p-4 sm:p-8 text-center",children:[e.jsx("div",{className:"flex justify-center mb-3 sm:mb-4",children:e.jsx("div",{className:"bg-[#8a4fff]/20 rounded-full p-3 sm:p-4",children:e.jsx(Ft,{className:"w-8 h-8 sm:w-12 sm:h-12 text-[#8a4fff] opacity-70"})})}),e.jsx("h4",{className:"text-sm sm:text-lg text-white mb-1 sm:mb-2",children:"No Billing History"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:"Your invoices will appear here after purchase"})]}):e.jsx("div",{className:"space-y-3 sm:space-y-4",children:L.slice(0,V?void 0:3).map((c,h)=>e.jsxs(v.div,{initial:{opacity:1,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:h*.1},className:`bg-[#2c1b4a] rounded-xl p-3 sm:p-5 flex items-center justify-between 
                            hover:bg-[#3a2b5c] transition-colors group`,children:[e.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[e.jsx("div",{className:"bg-[#8a4fff]/20 rounded-full p-2 sm:p-3",children:e.jsx(Be,{className:"w-4 h-4 sm:w-6 sm:h-6 text-[#8a4fff]"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs sm:text-base text-white font-semibold group-hover:text-[#8a4fff] transition-colors",children:["Invoice #",1e3+h+1]}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-400",children:[c.subscriptionName," â€¢ ",c.date.toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm sm:text-lg text-white font-bold",children:["â‚¬",c.amount.toFixed(2)]}),e.jsx("span",{className:"text-[10px] sm:text-xs text-green-400 bg-green-500/20 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full",children:"Completed"})]}),e.jsx(v.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>vt(c,t),className:`bg-[#8a4fff] text-white p-2 sm:p-3 rounded-full 
                                hover:bg-[#7a3ddf] transition-colors`,title:"Download Invoice",children:e.jsx(Et,{className:"w-3 h-3 sm:w-5 sm:h-5"})})]})]},c.id))}),L.length>3&&e.jsx("div",{className:"mt-4 sm:mt-6 text-center",children:e.jsxs("button",{onClick:()=>he(!V),className:`text-[#8a4fff] hover:bg-[#8a4fff]/10 px-4 sm:px-6 py-2 sm:py-3 rounded-xl 
                          transition-colors flex items-center justify-center mx-auto text-xs sm:text-sm`,children:[V?"Show Less":"Show More",V?e.jsx(Mt,{className:"ml-1 sm:ml-2 w-3 h-3 sm:w-5 sm:h-5"}):e.jsx(Nt,{className:"ml-1 sm:ml-2 w-3 h-3 sm:w-5 sm:h-5"})]})})]})}),r==="settings"&&e.jsx(Ot,{}),r==="referrals"&&e.jsx(ze,{})]})]})})})]})};export{_s as default};
